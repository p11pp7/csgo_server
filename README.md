# csgo_server
just cs server nothing to see here
Основная информация
Перед тем как создавать игровой сервер на личном ПК вы должны понимать, что:
- Нужен довольно мощный ПК, чтобы была возможность с него же и играть;
- Нужна возможность работы ПК без перезапуска и выключений (для поднятия онлайна);
- Нужен открытый UDP порт 27015 (можно изменить на свой в параметрах запуска);
- Запускать файл "start_server.bat" нужно от имени другого пользователя windows, чтобы после запуска игрового сервера вы без проблем могли запустить игру (в некоторых ОС Windows, а в частности замечалось на Windows 10, с этим проблемы, но можно запустить сначала игру свернуться и запустить игровой сервер).

Ну а теперь мы можем приступить непосредственно к созданию игрового сервера CS:GO.

P.S. Как открыть или пробросить порты в данном руководстве описывать не буду, все зависит от модели Роутера и других факторов. По поводу открытия портов в самом windows есть множество статей в интернете, думаю проблем у вас с этим не возникнет, а если вдруг и возникнут то стучитесь в ЛС (не забыв оставить коммент в профиле по какому вы поводу).

Возможно вам пригодится: Ссылка[www.networkcenter.info] (Сервис для проверки доступности TCP/UDP портов из вне, не забываем вам нужен UDP порт для работы игрового сервера по интернету. Вставлять нужно внешний IP адрес, который показывает вам сайт 2ip.ru).
Подготовка папок и файлов
1. Создадим папку в любом месте на вашем ПК и назовем ее к примеру: "server_windows".



2. В этой папке создадим еще 2 папки и назовем их: "steamcmd" и "server_csgo".



3. Скачаем архив со SteamCMD вот от сюда: Ссылка.
4. Распакуем и находящийся там файл "steamcmd.exe" переместим в папку "steamcmd".
5. В папке "steamcmd" создадим еще один файл файл "update_csgo.bat".



6. А в папке "server_csgo" создадим файл "start_server.bat".


Заполним файлы "update_csgo.bat" и "start_server.bat"
1. Заполним файл "update_csgo.bat" следующим содержанием:
steamcmd.exe +login anonymous +force_install_dir ../server_csgo/ +app_update 740 validate +quit
Информация: Это строчка позволит при запуске данного файла скачать или обновить игровой сервер. И еще, для обычного обновления игрового сервера без перезаписи всех файлов можете убрать параметр "validate" из "update_csgo.bat" (вы должны понимать, убирать только для обновления, а не для скачивания). Для скачивания данный параметр обязателен!

2. Заполним файл "start_server.bat" следующим содержанием:
srcds.exe -game csgo -console -usercon -maxplayers_override 20 -tickrate 64 +map de_dust2 -port 27015 +game_type 0 +game_mode 0 -secure +sv_lan 0 -nohltv -nobots
Информация: Это строчка позволит при запуске данного файла запустить игровой сервер.
Разберем переменные в файле "update_csgo.bat"
steamcmd.exe - определяет запускаемую программу;
+login anonymous - анонимная авторизация в SteamCMD;
+force_install_dir ../server_csgo/ - директория куда будет скачан игровой сервер;
+app_update 740 validate - определяет тип сервера для скачивания/обновления;
+quit - выключает программу по завершению работы.
Разберем переменные в файле "start_server.bat"
srcds.exe - определяет запускаемую программу;
-game csgo - определяет запускаемую игру сервера;
-console - запускает игровой сервер в консольном режиме;
-usercon - позволяет управлять игровым сервером через rcon команды;
-maxplayers_override 20 - задает максимальное число игроков для сервера (слоты);
-tickrate 64 - задает TickRate серверу, в csgo их всего два 64 и 128;
+map de_dust2 - задает стартовую карту игрового сервера;
-port 27015 - задает порт игрового сервера;
+game_type 0 +game_mode 0 - задает режим игры;
-secure - запускает сервер с VAC античитом;
+sv_lan 0 - разрешает подключаться игрокам не из локальной сети (из интернета);
-nohltv - отключает GOTV (если GOTV нужно, уберите из строки запуска);
-nobots - запрещает Боты (если Боты нужны, уберите из строки запуска).

Режимы для строки запуска:
+game_type 0 +game_mode 0 // Классический обычный.
+game_type 0 +game_mode 1 // Классический соревновательный.
+game_type 1 +game_mode 0 // Гонка вооружений.
+game_type 1 +game_mode 1 // Уничтожение объекта.
+game_type 1 +game_mode 2 // Бой насмерть.

P.S. Это основные переменные используемые при запуске игрового сервера.
Скачивание/Обновление игрового сервера CS:GO
Для скачивания/обновления игрового сервера нам достаточно запустить файл "update_csgo.bat":
- Программа автоматически обновится, скачает/обновит игровой сервер и по завершению закроется.


Server.cfg и его переменные
-------------------------------------------------------------------------------------------------------------------------------
hostname "Counter-Strike: Global Offensive" // Название игрового сервера (писать только на английском).
rcon_password "password" // Пароль для упраления игровым сервером через коносль, RCON командами.
sv_password "" // Пароль для входа на игровой сервер (если не требуется оставить ковычки пустыми).
mapgroup "mg_servers" // Набор карт для стандартного голосования CS:GO сервера.
sv_region "255" // Регион где расположен игровой сервер (можно оставить так как есть).
sv_setsteamaccount "" // Токен для игрового сервера, создается тут: http://steamcommunity.com/dev/managegameservers (требуется: аккаунт с игрой и подтвержденным номером телефона).
sv_steamgroup "" // Индификатор Steam группы которой принадлежит игровой сервер (можно оставить как есть).
sv_pure 0 // Проверка соответствия файлов сервера и клиента (можно оставить как есть).

// Настройки A2S_INFO отображение списка игроков в мониторингах.
host_name_store 1
host_info_show 2
host_players_show 2
-------------------------------------------------------------------------------------------------------------------------------
P.S. По умолчанию его нет на игровом сервере, вам нужно его создать:
- Создается тут: /server_windows/server_csgo/csgo/cfg
Все остальные переменные находятся по этому же пути в файлах:
gamemode_casual.cfg // Классический обычный.
gamemode_competitive.cfg // Классический соревновательный.
gamemode_armsrace.cfg // Гонка вооружений.
gamemode_demolition.cfg // Уничтожение объекта.
gamemode_deathmatch.cfg // Бой насмерть.
Запуск игрового сервера
Для запуска игрового сервера нам достаточно запустить файл "start_server.bat".



После запуска ваш игровой сервер, для вас и всех в вашей локальной (домашней) сети, будет отображаться во вкладке "локальная сеть" (в окне поиска игровых серверов), для все остальных вам нужно давать внешний IP через двоеточие с портом 27015 (либо своим портом если вы его меняли), пример 127.0.0.1:27015 (127.0.0.1 изменить на внешний IP).
P.S. Узнать ваш внешний IP вы можете на сайте 2ip.ru
